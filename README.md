# backend-creditos
Desafio T√©cnico de back-end cr√©ditos INFUSE

Ôªø# üè¶ Credit Inquiry API

A Credit Inquiry API built with **Java**, featuring the using of the **Spring Boot**, and connected to a **PostgreeSQL** database and with event log on **Kafka**.

## üìå Features

- Query screen allowing you to search only by NFS-e number or credit number.
- Table displaying the results of the query.
- Responsiveness for mobile devices.

## ‚öôÔ∏è Tech Stack

| Technology      | Description                                                            |
|-----------------|------------------------------------------------------------------------|
| Java 21         | Main programming language                                              |
| Spring Boot     | Framework for web apps                                                 |
| Spring Data JPA | Data access framework that simplifies database interactions            |
| Hibernate       | Java-based object-relational mapping (ORM) framework                   |
| PostgreSQL      | Relational database                                                    |
| Angular 19.2.11 | Front-end framework for creating web applications                      |
| Docker          | Open platform for developing, shipping and running applications        |
| Kafka           | Distributed streaming platform used to create real-time data pipelines |
| JUnit           | A unit testing framework for Java for writing and executing tests      |
| Mockito         | A simulation framework to create simulated objects in unit tests       |
| MVC             | A software architectural pattern                                       |

## üõ†Ô∏è How to Run the Project:
1. Clone the repository
```java
git clone -b master https://github.com/jorgedoriajr/backend-creditos.git
```
2. Creating the network in Docker
```java
docker network create --driver bridge my_network
```
3. Building the project
```java
docker-compose build --no-cache
```
4. Running containers in Docker
```java
docker-compose up -d
```
5. Testing API calls from within the Docker Container
```java
docker exec -it frontend-creditos-frontend-1 sh
curl http://creditos-app:8080/api/creditos/1122334
curl http://creditos-app:8080/api/creditos/credito/123456
```
6. View the topic credito-topic on Kafka
```java
http://localhost:19000/
```

## üßæ Database Schema Information
```java
create schema if not exists infuse;

CREATE TABLE infuse.credito (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY,
    numero_credito VARCHAR(50) NOT NULL,
    numero_nfse VARCHAR(50) NOT NULL,
    data_constituicao DATE NOT NULL,
    valor_issqn DECIMAL(15, 2) NOT NULL,
    tipo_credito VARCHAR(50) NOT NULL,
    simples_nacional BOOLEAN NOT NULL,
    aliquota DECIMAL(5, 2) NOT NULL,
    valor_faturado DECIMAL(15, 2) NOT NULL,
    valor_deducao DECIMAL(15, 2) NOT NULL,
    base_calculo DECIMAL(15, 2) NOT NULL
);

NSERT INTO credito (numero_credito, numero_nfse,
                    data_constituicao, valor_issqn,
                    tipo_credito, simples_nacional,
                    aliquota, valor_faturado,
                    valor_deducao, base_calculo)
VALUES('123456', '7891011', '2024-02-25', 1500.75, 'ISSQN', true, 5.0, 30000.00, 5000.00, 25000.00),
      ('789012', '7891011', '2024-02-26', 1200.50, 'ISSQN', false, 4.5, 25000.00, 4000.00, 21000.00),
      ('654321', '1122334', '2024-01-15', 800.50, 'Outros', true, 3.5, 20000.00, 3000.00, 17000.00);
```

## üôã Author
Made by Jorge Viana Doria Junior
